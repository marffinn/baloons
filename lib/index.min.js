$(".img-holder").on("click",function(){let modelLink=$(this).attr("model-data");window.location.href="index_2.php?model="+modelLink}),$(".category_container").on("click",function(){window.location.href="index.php"}),$('.skolory a:not(".clr")').on("click",function(){$(".skolory a p").removeClass("mark");let selected_color=$(this).attr("hex"),object=scene.getObjectByName(objectChosen,!0),hexConverted=selected_color.replace("#","0x");color.setHex(hexConverted),object.material.color.set(color),$(this).children("p").toggleClass("mark"),chosenArray[object.name]=selected_color,Cookies.set(cookieModel,chosenArray,{expires:7})}),$(".skolory a.clr").on("click",function(){$(".skolory a.clr").each(function(){$(this).removeClass("check")}),$(this).toggleClass("check")});let addinsArray={};function jsonToURI(json){return encodeURIComponent(JSON.stringify(json))}function uriToJSON(urijson){return JSON.parse(decodeURIComponent(urijson))}$(".sdodatki a.clr").on("click",function(){if($(this).hasClass("check")){$(this).toggleClass("check");let option=$(this).text();addinsArray[option]="no",Cookies.set("addins",addinsArray,{expires:7})}else{$(this).toggleClass("check");let option=$(this).text();addinsArray[option]="yes",Cookies.set("addins",addinsArray,{expires:7})}chosenArray.addins=addinsArray});let linkInterpreter=function(){let part=null;if(window.location.hash){let retrievedArray=JSON.parse(decodeURIComponent(window.location.href.split("#")[1]));$.each(retrievedArray.addins,function(v,k){"yes"==k?$(".sdodatki a:contains("+v+")").toggleClass("check"):$(".sdodatki a").removeClass("check")}),$.each(retrievedArray,function(partName,colorToSet){"addins"!==partName&&(part=scene.getObjectByName(partName,!0)).material.color.set(colorToSet)})}},addonsInMail=function(){let htmlTable="";return $(".sdodatki a").each(function(){$(this).hasClass("check")&&(htmlTable+=$(this).text()+"<br/>")}),htmlTable},printTypeInMail=function(){let htmlTable="";return $(".skolory .clr").each(function(){$(this).hasClass("check")&&(htmlTable+=$(this).text()+"<br/>")}),htmlTable},modelSizeInMail=function(){let htmlTable="";return $(".sizeSelector3 li").each(function(){$(this).hasClass("ssActive3")&&(htmlTable+=$(this).text()+"<br/>")}),htmlTable},checkIfAttachment=function(){return null!==chosenArray.logotype?chosenArray.logotype:null},elem=document.documentElement;function openFullscreen(){elem.requestFullscreen?elem.requestFullscreen():elem.mozRequestFullScreen?elem.mozRequestFullScreen():elem.webkitRequestFullscreen?elem.webkitRequestFullscreen():elem.msRequestFullscreen&&elem.msRequestFullscreen()}function closeFullscreen(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}$(".fullscreen_container").on("click",function(){let state;"on"==$(this).attr("state")?($(this).attr("state","off"),closeFullscreen()):($(this).attr("state","on"),openFullscreen())}),$("#modal p, #modalOrder p").on("click",function(){$("#modal, #modalOrder").fadeOut()}),$(".rotateRight").mousedown(function(){rotationSpeed=.02}).mouseup(function(){rotationSpeed=0}).mouseleave(function(){rotationSpeed=0}),$(".rotateLeft").mousedown(function(){rotationSpeed=-.02}).mouseup(function(){rotationSpeed=0}).mouseleave(function(){rotationSpeed=0}),"seen"!==Cookies.get("info")?$(".pickInfo").show():$(".pickInfo").hide(),$(".pickInfo p").on("click",function(){$(".pickInfo").fadeOut(),Cookies.set("info","seen",{expires:7})}),$(".info_container").on("click",function(){$(".pickInfo").fadeIn()}),$(".zoomIn").on("click",function(event){event.preventDefault(),controls.zoomIn()}),$(".zoomOut").on("click",function(event){event.preventDefault(),controls.zoomOut()}),$(".select i, .select h4").on("click",function(){$(this).parent().find(".listerFoldable").stop().slideToggle(100)});let centerSteering=function(){let steeringWidth=$(".steering").outerWidth();$(".steering").css({"margin-left":-steeringWidth/2})};function pan_hex(){$(".skolory a").each(function(){let box_color=$(this).attr("hex");$(this).css({"background-color":box_color})})}$("input, textarea").on("click",function(){$(this).focus()}),$(".backToconfig, .placeOrder").on("click",function(){$(".pick, .order").slideToggle()}),$(".sagree i").on("click",function(){$(this).children("b").fadeToggle(200),$(".sendMail").toggleClass("sendDisable")}),$(".upload-box").dmUploader({url:"uploader/upload.php",onUploadSuccess:function(id,data){var response=JSON.stringify(data);let imager="baloons/"+data.path;chosenArray.logotype=imager,$("#modal").append(" Zdjęcie wgrano pomyślnie ").delay(2e3).fadeOut();let imgSRC='<p><img src="'+imager+'" /></p>';$(".inFileList").append(imgSRC),picturesUploaded.push(imgSRC),Cookies.set("x_picturesUploaded",imager,{expires:7})}});let checkAddons=function(){$(".sdodatki a").each(function(){if(!$(this).hasClass("check"))return 0})},messageSent=function(response){"OK"==response?($(".orderModelName").text(" Zapytanie ofertowe zostało wysłane pozytywnie"),$("#modalOrder").fadeIn().delay(4e3).fadeOut(),$(".pick, .order").slideToggle()):($(".orderModelName").text(" Zapytanie ofertowe nie zostało wysłane, upewnij się czy wypełniono wszystkie pola formularza"),$("#modalOrder").fadeIn())};$(".sendMail").on("click",function(){let xMailBody=$(".xMailBody").val(),xEmail=$(".xEmail").val(),xFirma=$(".xFirma").val(),xOsoba=$(".xOsoba").val(),xTelefon=$(".xTelefon").val(),pathie=JSON.stringify(document.URL.substr(0,document.URL.lastIndexOf("/"))+"/"+Cookies.get("x_picturesUploaded")).replace(/\"/g,""),xLink=window.location.href+jsonToURI(chosenArray);Email.send({SecureToken:"02277365-2d3a-49c0-832a-1540deaf5d28",To:["produkcja.felder@gmail.com",xEmail],From:xEmail,Subject:"Zamówienie/Zapytanie - KONFIGURATOR",Body:"<b>Osoba kontaktowa: </b>"+xOsoba+"<br/><b>Firma: </b> "+xFirma+" <br/><b>Telefon: </b> "+xTelefon+" <br/><b>Produkt: </b>"+models[cookieModel].name+"<br/><b>Rozmiar: </b>"+modelSizeInMail()+"<br/><b>Nadruk: </b><br/>"+printTypeInMail()+"<br/><b>Opcje: </b><br/>"+addonsInMail()+'<br/><b>Link zamówienia: </b><a href="'+xLink+'" target="_blank"> Zobacz swój model </a><br/><b>Treść wiadomości: </b>'+xMailBody+'<br/><b>Link do logotypu: <a href="'+pathie+'" target="_blank"> LOGOTYP </a><br/>'}).then(message=>messageSent(message),message=>alert(message))}),pan_hex(),centerSteering();